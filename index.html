<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Loading Pawfect Hearts...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    body, html {
      margin: 0; padding: 0;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #f8f0ff, #e0f7fa);
      overflow: hidden;
      flex-direction: column;
      text-align: center;
    }

    #loader-container { opacity: 1; transition: opacity 0.5s ease; }

    h1 { margin-bottom: 15px; color: #007bff; font-weight: 700; font-size: 3rem; }
    h2 { margin-bottom: 25px; color: #555; font-weight: 400; font-size: 1.3rem; }

    .loader-circle {
      border: 8px solid #ddd;
      border-top: 8px solid #007bff;
      border-radius: 50%;
      width: 80px; height: 80px;
      animation: spin 1s linear infinite;
      margin-bottom: 30px;
    }
    @keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }

    .messages { font-size: 1.5rem; color: #333; max-width: 600px; margin-bottom: 30px; }
    .tip { font-size: 1rem; color: #555; font-style: italic; margin-top: 15px; }

    .floating { position: absolute; border-radius: 50%; opacity: 0.2; background: #007bff; animation: float 20s linear infinite; }
    @keyframes float {
      0% { transform: translateY(0) translateX(0) rotate(0deg); }
      50% { transform: translateY(-50px) translateX(30px) rotate(180deg); }
      100% { transform: translateY(0) translateX(0) rotate(360deg); }
    }

    @media (max-width: 768px) {
      h1 { font-size: 2rem; } h2 { font-size: 1rem; margin-bottom: 20px; }
      .loader-circle { width: 60px; height: 60px; border-width: 6px; }
      .messages { font-size: 1.1rem; max-width: 300px; margin-bottom: 25px; }
      .tip { font-size: 0.9rem; }
    }
    @media (max-width: 480px) {
      h1 { font-size: 1.5rem; } h2 { font-size: 0.9rem; margin-bottom: 15px; }
      .loader-circle { width: 50px; height: 50px; border-width: 5px; }
      .messages { font-size: 1rem; max-width: 250px; margin-bottom: 20px; }
      .tip { font-size: 0.8rem; }
    }
  </style>
</head>
<body>
  <div id="loader-container">
    <h1>Welcome to Pawfect Hearts</h1>
    <h2>Your trusted platform for dog adoption, lost & found, and blood donation</h2>

    <div class="loader-circle"></div>

    <div class="messages" id="messages">Preparing your professional experience...</div>
    <div class="tip" id="tip">üêæ Wagging tails are on the way!</div>
  </div>

  <!-- floating circles -->
  <div class="floating" style="width:50px;height:50px;top:10%;left:15%;animation-duration:25s;"></div>
  <div class="floating" style="width:30px;height:30px;top:70%;left:80%;animation-duration:30s;"></div>
  <div class="floating" style="width:40px;height:40px;top:40%;left:60%;animation-duration:20s;"></div>
  <div class="floating" style="width:25px;height:25px;top:20%;left:75%;animation-duration:28s;"></div>
  <div class="floating" style="width:35px;height:35px;top:60%;left:30%;animation-duration:22s;"></div>
  <div class="floating" style="width:45px;height:45px;top:50%;left:50%;animation-duration:18s;"></div>
  <div class="floating" style="width:20px;height:20px;top:80%;left:10%;animation-duration:26s;"></div>

  <script>
    const RENDER_BASE = "https://pawfect-hearts.onrender.com";
    const REDIRECT_PATH = "/home/"; 
    const PING_PATH = "/static/ping.png";

    const messages = [
      "Connecting you to happy tails üê∂",
      "Fetching dog adoption stories...",
      "Preparing a seamless experience for you...",
      "Your journey to meet furry friends is almost ready...",
      "Thank you for waiting ‚Äî exciting experiences ahead!"
    ];

    const tips = [
      "üêæ Wagging tails are on the way!",
      "‚ù§Ô∏è Love is loading...",
      "üåü Great matches are almost ready!",
      "üê∂ Happiness in progress...",
      "üéâ Your next furry friend awaits!"
    ];

    let msgIndex = 0, tipIndex = 0;
    const msgEl = document.getElementById("messages"), tipEl = document.getElementById("tip");
    function rotateMessages() {
      msgEl.textContent = messages[msgIndex]; msgIndex = (msgIndex+1)%messages.length; setTimeout(rotateMessages, 5000);
    }
    function rotateTips() {
      tipEl.textContent = tips[tipIndex]; tipIndex = (tipIndex+1)%tips.length; setTimeout(rotateTips, 7000);
    }
    rotateMessages(); rotateTips();

    function checkServer() {
      const img = new Image();
      img.onload = function() {

        const loader = document.getElementById("loader-container");
        loader.style.opacity = 0;
        setTimeout(() => { window.location.href = RENDER_BASE + REDIRECT_PATH; }, 500);
      };
      img.onerror = function() {

        setTimeout(checkServer, 3000);
      };

      img.src = RENDER_BASE + PING_PATH + "?ts=" + Date.now();
    }

    checkServer();
  </script>
</body>
</html>
